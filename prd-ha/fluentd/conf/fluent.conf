<system>
  log_level info
  <log> # rotação de logs, porem apenas os próprios logs do fluentd | pode ser especificado apenas um dos parâmetros abaixo
    rotate_age 5 # tempo que os logs ficarão ativos
    rotate_size 1048576 # tamanho do arquivo em bytes
  </log>
</system>

<source>
  @type forward
  port 24224
  bind 0.0.0.0
  add_tag_prefix prod
</source>

<match prod.*>
  @type elasticsearch
  host elasticsearch
  port 9200
  logstash_format true
  logstash_prefix containers
  <buffer> # configuração de buffer para persitência de logs no fluentd aggregator
    @type file # tipo de armazenamento que o buffer irá utilizar
    path /fluentd/buffer # caminho de onde os arquivos de buffer serão salvos
  </buffer>
</match>
